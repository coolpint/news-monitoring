name = "news-monitoring"
main = "src/worker.js"
compatibility_date = "2026-02-28"

[vars]
APP_MODE = "multi_user_teams" # multi_user_teams | single_user_slack
MAX_USERS = "30"
MAX_KEYWORDS_PER_USER = "40"
MAX_CUSTOM_RSS_SOURCES_PER_RUN = "20"
GOOGLE_NEWS_LANG = "ko"
GOOGLE_NEWS_REGION = "KR"
GOOGLE_NEWS_EDITION = "KR:ko"
NEWS_MAX_AGE_HOURS = "24"
GOOGLE_FETCH_TIMEOUT_MS = "8000"
GOOGLE_FETCH_CONCURRENCY = "4"
NAVER_DAILY_LIMIT = "1000"
NAVER_PER_RUN_LIMIT = "4"
RUN_LOCK_TTL_SECONDS = "270"
RUN_STALE_TIMEOUT_MINUTES = "15"

[[d1_databases]]
binding = "DB"
database_name = "news_monitoring"
database_id = "0d0bc32a-22a2-4aa4-a6d0-bdca86bde673"

[observability]
enabled = true

[triggers]
crons = ["*/5 * * * *"]
